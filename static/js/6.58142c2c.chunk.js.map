{"version":3,"sources":["components/alertMessage.js","pages/factorial.js"],"names":["AlertMessage","props","state","message","undefined","console","log","this","setState","nextProps","nextState","group","groupEnd","variant","Component","ModalFactorial","lazy","ModalWithSuspense","withSuspense","Factorial","getFactorial","i","useForm","register","handleSubmit","errors","setValue","useState","showAlert","setShowAlert","isLoading","setIsLoading","$","window","on","localStorage","getItem","removeItem","memoShowModal","useMemo","useEffect","factorial","setItem","header_page","className","onSubmit","data","arr_fact","item_arr","f","num","push","JSON","stringify","find_fact","Control","id","type","placeholder","name","ref","required","max","value","pattern","Text"],"mappings":"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","file":"static/js/6.58142c2c.chunk.js","sourcesContent":["import React,{Component} from 'react';\r\nimport {Alert} from 'react-bootstrap';\r\n\r\nclass AlertMessage extends Component\r\n{\r\n\tconstructor(props)\r\n\t{\r\n\t\tsuper(props);\r\n\t\tthis.state=\r\n\t\t{\r\n\t\t\tmessage:undefined\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentDidMount()\r\n\t{\r\n\t\tconsole.log(\"componentDidMount\");\r\n\t\tthis.setState(\r\n\t\t{\r\n\t\t\tmessage:this.props.message\r\n\t\t});\r\n\t}\r\n\r\n\tcomponentWillUpdate(nextProps,nextState)\r\n\t{\r\n\t\tconsole.group(\"componentWillUpdate\");\r\n\t\tif(nextProps.message!==nextState.message)\r\n\t\t{\r\n\t\t\tconsole.log(\"nextProps.message!==nextState.message\");\r\n\t\t\tthis.setState(\r\n\t\t\t{\r\n\t\t\t\tmessage:this.props.message\r\n\t\t\t});\r\n\t\t}\r\n\t\t\r\n\t\telse if(nextProps.message===nextState.message)\r\n\t\t{\r\n\t\t\tconsole.log(\"nextProps.message===nextState.message\");\r\n\t\t}\r\n\t\tconsole.groupEnd();\r\n\t}\r\n\r\n\trender()\r\n\t{\r\n\t\treturn(\r\n\t\t\t<div>\r\n\t\t\t\t<Alert variant=\"danger\">\r\n\t\t\t\t\t{this.state.message}\r\n\t\t\t\t</Alert>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\n\r\nexport default AlertMessage;","import {useForm} from 'react-hook-form';\r\nimport React,{useState,useEffect,useMemo,lazy} from 'react';\r\nimport {Form} from 'react-bootstrap';\r\n\r\nimport $ from 'jquery';\r\n\r\nimport header_page from '../components/header_page';\r\nimport AlertMessage from '../components/alertMessage';\r\n\r\nimport StylesPage from '../styledComponents/StylesPage';\r\n\r\nimport withSuspense from '../hoc/withSuspense';\r\n\r\nconst hint=`Input only number >0 and <171 without chars. This number must not start with zero. \r\nAfter input press Enter on your keyboard.`;\r\n\r\nconst ModalFactorial=lazy(()=>import('../components/modalFactorial'));\r\n\r\nconst ModalWithSuspense=withSuspense(ModalFactorial);\r\n\r\nconst Factorial=()=>\r\n{\r\n\tconst getFactorial=(i)=>(i===1) ? 1 : (i*getFactorial(i-1));\r\n\r\n\tconst find_fact=data=>\r\n    {\r\n    \tconsole.group(\"find_fact\");\r\n    \tlet arr_fact=[];\r\n    \tfor(let i=1;i<=data;i++)\r\n    \t{\r\n    \t\tlet f=i,num=getFactorial(i);\r\n\t        let item_arr={f,num};\r\n\t        arr_fact.push(item_arr);\r\n      \t}\r\n      \tconsole.log(\"arr_fact:\"+arr_fact);\r\n      \tlocalStorage.setItem('array_factorial',JSON.stringify(arr_fact));\r\n      \tconsole.groupEnd();\r\n    }\r\n\t\r\n\tconst {register,handleSubmit,errors,setValue}=useForm();\r\n    const [showAlert,setShowAlert]=useState(false);\r\n    const [isLoading,setIsLoading]=useState(false);\r\n\r\n\r\n    $(window).on('load',()=>\r\n    {\r\n    \tif(localStorage.getItem('err_msg_factorial'))\r\n    \t{\r\n    \t\tconsole.log(\"$(window).on(load) (for remove item (err_msg_factorial) from localStorage)\");\r\n\t\t\tlocalStorage.removeItem('err_msg_factorial');\r\n    \t}\r\n\t});\r\n\r\n    const onSubmit=data=>\r\n    {\r\n    \tconsole.group(\"onSubmit\");\r\n    \tsetIsLoading(true);\r\n    \tconsole.log(`isLoading:${isLoading}`);\r\n\t    console.log(data);\r\n\t    \r\n\t    find_fact(data.factorial);\r\n\t    \r\n\t    setValue(\"factorial\",\"\");\r\n\t    localStorage.removeItem('err_msg_factorial');\r\n\t\tsetShowAlert(false);\r\n\t\tconsole.log(`showAlert:${showAlert}`);\r\n\t\t\r\n\t\tsetIsLoading(false);\r\n\t\tconsole.log(`isLoading:${isLoading}`);\r\n\t\tconsole.groupEnd();\r\n    }\r\n\r\n    const memoShowModal=useMemo(()=>\r\n    {\r\n    \tconsole.group(\"memoShowModal=useMemo\");\r\n    \t\r\n    \tif(!isLoading && localStorage.getItem('array_factorial'))\r\n    \t{\r\n    \t\tconsole.log(\"isLoading:\"+isLoading);\r\n    \t\tconsole.log(\"localStorage.getItem(array_factorial):\"+localStorage.getItem('array_factorial'));\r\n    \t\tconsole.groupEnd();\r\n    \t\treturn true;\r\n    \t}\r\n\r\n    \tconsole.log(\"localStorage.getItem(array_factorial):\"+localStorage.getItem('array_factorial'));\r\n    \tconsole.log(\"isLoading:\"+isLoading);\r\n    \tconsole.groupEnd();\r\n    \treturn false;\r\n    },[isLoading]);\r\n    \r\n\r\n    useEffect(()=>\r\n    {\r\n    \tconsole.group(\"useEffect\");\r\n    \tif(errors.factorial)\r\n    \t{\r\n    \t\tconsole.log(errors);\r\n    \t\tlocalStorage.setItem('err_msg_factorial',errors.factorial.message);\r\n\t        setShowAlert(true);\r\n\t        console.groupEnd();\r\n    \t}\r\n    \t\r\n    \telse\r\n    \t{\r\n    \t\tconsole.log(\"Without errors\");\r\n    \t\tconsole.groupEnd();\r\n    \t}\r\n    },[errors]);\r\n\r\n    return(\r\n        <StylesPage>\r\n        \t<header>\r\n        \t\t{header_page(\"h1\",\"Find Factorial.\")}\r\n        \t</header>\r\n            \r\n            {showAlert && \r\n            \t<div className=\"div_alert\">\r\n            \t\t<AlertMessage message={localStorage.getItem('err_msg_factorial')}/>\r\n            \t</div>\r\n            }\r\n\r\n            <div>\r\n            \t{memoShowModal && <ModalWithSuspense/>}\r\n            </div>\r\n            \r\n            \r\n            <Form className=\"form\" onSubmit={handleSubmit(onSubmit)}>\r\n            \t<Form.Control id=\"factorial_count\" type=\"text\" placeholder=\"input number to find factorial\" name=\"factorial\" \r\n            \tref={register({required:\"Input is required\",\r\n\t                \tmax:{\r\n\t                \t\tvalue:170,\r\n\t                \t\tmessage:\"Max value must be >170 because that factorial of >170 is infinity\"\r\n\t                \t},\r\n\t                  \tpattern:{\r\n\t                    value:/^[1-9]{1}[0-9]*$/i,\r\n\t                    message:\"Input only number >0 without chars and mustn't start with zero\"\r\n\t                  \t}\r\n\t                })}\t\t\t\t\r\n                />\r\n               \r\n\t\t\t\t<div className=\"div_hint\">\r\n\t\t\t\t\t<Form.Text>{hint}</Form.Text>\r\n\t\t\t\t</div>\r\n            </Form>\r\n\r\n        </StylesPage>\r\n    );\r\n}\r\n\r\nexport default Factorial;"],"sourceRoot":""}